# Spark配置文件

# 应用程序配置
spark.app.name=EnterpriseDataWarehouse
spark.master=yarn
spark.submit.deployMode=cluster

# 资源配置
spark.executor.instances=4
spark.executor.cores=2
spark.executor.memory=4g
spark.driver.memory=2g
spark.driver.cores=1

# 性能优化配置
spark.sql.adaptive.enabled=true
spark.sql.adaptive.coalescePartitions.enabled=true
spark.sql.adaptive.skewJoin.enabled=true
spark.serializer=org.apache.spark.serializer.KryoSerializer

# Hive集成配置
spark.sql.catalogImplementation=hive
spark.sql.warehouse.dir=/user/hive/warehouse

# 动态资源分配
spark.dynamicAllocation.enabled=true
spark.dynamicAllocation.minExecutors=1
spark.dynamicAllocation.maxExecutors=10
spark.dynamicAllocation.initialExecutors=2

# 日志配置
spark.eventLog.enabled=true
spark.eventLog.dir=hdfs://localhost:9000/spark-logs
spark.history.fs.logDirectory=hdfs://localhost:9000/spark-logs

# 网络配置
spark.network.timeout=300s
spark.sql.broadcastTimeout=300s